DROP TEMPORARY TABLE IF EXISTS EXCHANGES;
DROP TEMPORARY TABLE IF EXISTS SECTORS;
DROP TEMPORARY TABLE IF EXISTS INDUSTRIES;
DROP TEMPORARY TABLE IF EXISTS TEST_STOCKS_LISTING;
DROP TEMPORARY TABLE IF EXISTS TEST_STOCKS_PRICES;

CREATE TABLE EXCHANGES (
	Exchange VARCHAR (50) NOT NULL,
	Nation VARCHAR (50) NOT NULL,
	Acronym VARCHAR (50) NOT NULL,
	Name VARCHAR (100) NOT NULL,
	Currency VARCHAR (50) NOT NULL,
	WebSite VARCHAR (50) NOT NULL,
	PRIMARY KEY (Exchange)
);

CREATE TABLE SECTORS (
	Sector VARCHAR (100) NOT NULL,
	Descripton VARCHAR (100) NOT NULL,
	PRIMARY KEY (Sector)
);

CREATE TABLE INDUSTRIES (
	Industry VARCHAR (100) NOT NULL,
	Sector VARCHAR (100) NOT NULL,
	PRIMARY KEY (Industry),
	FOREIGN KEY (Sector) REFERENCES SECTORS (Sector)
);

CREATE TABLE TEST_STOCKS_LISTING (
	Name VARCHAR(50) NOT NULL,
	Symbol VARCHAR(50) NOT NULL,
	Exchange VARCHAR(50) NOT NULL,
	Sector VARCHAR (100) NOT NULL,
	Industry VARCHAR (100) NOT NULL,
	Listing VARCHAR (50) NOT NULL,
	ListingDate VARCHAR (50) NOT NULL,
	FOREIGN KEY (Exchange) REFERENCES EXCHANGES (Exchange),
	FOREIGN KEY (Sector) REFERENCES SECTORS (Sector),
	FOREIGN KEY (Industry) REFERENCES INDUSTRIES (Industry)
);

CREATE TABLE TEST_STOCKS_PRICES (
	Sector VARCHAR(100) NOT NULL,
	Industry VARCHAR (100) NOT NULL,
	Exchange VARCHAR(50) NOT NULL,
	Symbol VARCHAR(50) NOT NULL,
	Name VARCHAR(50) NOT NULL,
	Date VARCHAR(50) NOT NULL,
	Currency VARCHAR(50) NOT NULL,
	Open DOUBLE NOT NULL,
	High DOUBLE NOT NULL,
	Low DOUBLE NOT NULL,
	Close DOUBLE NOT NULL,
	Rtn DOUBLE NOT NULL,
	Volume INT(50) NOT NULL,
	FOREIGN KEY (Exchange) REFERENCES EXCHANGES (Exchange),
	FOREIGN KEY (Sector) REFERENCES SECTORS (Sector),
	FOREIGN KEY (Industry) REFERENCES INDUSTRIES (Industry)
);